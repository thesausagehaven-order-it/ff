<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Playful Login â€“ REAL Eye Tracking + Lottie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Lottie -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <style>
    * { box-sizing: border-box; font-family: Arial, sans-serif; }
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      background: linear-gradient(120deg, #f6f9ff, #e9f0ff);
    }

    .container { display: flex; width: 100%; }

    /* LEFT SIDE */
    .left {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 40px;
      position: relative;
    }

    .character-wrapper {
      position: relative;
      width: 200px;
    }

    /* SVG EYES */
    .eyes-svg {
      position: absolute;
      top: 55px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      pointer-events: none;
    }

    .pupil {
      transition: transform 0.05s linear;
    }

    /* RIGHT SIDE */
    .right {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .login-box {
      background: #fff;
      padding: 40px;
      width: 320px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .login-box h2 { text-align: center; margin-bottom: 20px; }

    .login-box input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .login-box button {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #4361ee;
      color: #fff;
      cursor: pointer;
    }

    .error {
      color: red;
      text-align: center;
      margin-top: 10px;
      display: none;
    }

    @media (max-width: 768px) {
      .container { flex-direction: column; }
      .left { height: 40vh; }
    }
  </style>
</head>
<body>

<div class="container">

  <!-- LEFT: CHARACTER -->
  <div class="left">

    <div class="character-wrapper" id="character">

      <!-- LOTTIE BODY -->
      <lottie-player
        id="body"
        src="https://assets10.lottiefiles.com/packages/lf20_jcikwtux.json"
        background="transparent"
        speed="1"
        loop
        autoplay>
      </lottie-player>

      <!-- SVG EYES (REAL TRACKING) -->
      <svg class="eyes-svg" viewBox="0 0 200 60">
        <ellipse cx="60" cy="30" rx="28" ry="20" fill="#fff" />
        <ellipse cx="140" cy="30" rx="28" ry="20" fill="#fff" />

        <circle id="pupilLeft" class="pupil" cx="60" cy="30" r="8" fill="#000" />
        <circle id="pupilRight" class="pupil" cx="140" cy="30" r="8" fill="#000" />
      </svg>

    </div>

  </div>

  <!-- RIGHT: LOGIN -->
  <div class="right">
    <div class="login-box">
      <h2>Login</h2>
      <input type="text" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">Sign In</button>
      <div class="error" id="error">Wrong password</div>
    </div>
  </div>

</div>

<script>
  const character = document.getElementById('character');
  const pupilL = document.getElementById('pupilLeft');
  const pupilR = document.getElementById('pupilRight');
  const password = document.getElementById('password');
  const error = document.getElementById('error');

  let eyesEnabled = true;

  document.addEventListener('mousemove', (e) => {
    if (!eyesEnabled) return;

    const rect = character.getBoundingClientRect();
    const cx = rect.left + rect.width / 2;
    const cy = rect.top + 90;

    const dx = e.clientX - cx;
    const dy = e.clientY - cy;

    const max = 8;
    const angleX = Math.max(Math.min(dx / 20, max), -max);
    const angleY = Math.max(Math.min(dy / 20, max), -max);

    pupilL.style.transform = `translate(${angleX}px, ${angleY}px)`;
    pupilR.style.transform = `translate(${angleX}px, ${angleY}px)`;
  });

  password.addEventListener('focus', () => {
    eyesEnabled = false;
    pupilL.style.transform = 'translate(0, 12px)';
    pupilR.style.transform = 'translate(0, 12px)';
  });

  password.addEventListener('blur', () => {
    eyesEnabled = true;
  });

  function login() {
    if (password.value !== 'admin123') {
      error.style.display = 'block';
      character.animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-8px)' },
        { transform: 'translateX(8px)' },
        { transform: 'translateX(0)' }
      ], { duration: 400 });
    } else {
      error.style.display = 'none';
      alert('Login successful!');
    }
  }
</script>

</body>
</html>
